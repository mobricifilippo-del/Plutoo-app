<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Plutoo</title>

  <!-- PWA / Meta -->
  <meta name="theme-color" content="#0B0B0F" />
  <meta name="color-scheme" content="dark" />
  <meta name="description" content="Plutoo ‚Äî social per cani: vicino a te, swipe Amore/Social, chat, selfie, servizi e sponsor." />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" href="plutoo-icon-192.png" />
  <link rel="apple-touch-icon" href="plutoo-icon-512.png" />

  <!-- CSS -->
  <link rel="stylesheet" href="style.css" />
  <noscript>Attiva JavaScript per usare Plutoo.</noscript>
</head>
<body>

  <!-- =============== HOME =============== -->
  <section id="homeScreen" class="home" aria-labelledby="homeTitle">
    <header class="home-top">
      <div class="container">
        <div class="row">
          <div class="left">
            <div class="logo-row">
              <img src="plutoo-icon-192.png" alt="Plutoo" class="logo-small" width="42" height="42" />
              <h1 id="homeTitle" class="brand">Plutoo</h1>
            </div>
          </div>
          <div class="right">
            <div class="auth-links">
              <!-- FIX: Contatti ‚Üí mailto (no 404) -->
              <a href="mailto:plutoo.team@gmail.com">Contatti</a>
              <span>¬∑</span>
              <a href="#" id="btnLogin" class="login-link" data-i18n="login">Login</a>
              <span>¬∑</span>
              <a href="#" id="btnSignup" class="signup-link" data-i18n="signup">Registrati</a>
            </div>
            <div class="lang">
              <button id="langIT" class="btn tiny ghost" type="button" aria-label="Italiano">IT</button>
              <button id="langEN" class="btn tiny ghost" type="button" aria-label="English">EN</button>
            </div>
            <button id="langToggle" class="btn tiny ghost" type="button" aria-label="Cambia lingua">IT/EN</button>
          </div>
        </div>
      </div>
    </header>

    <div class="home-hero">
      <!-- Logo grande -->
      <img id="heroLogo" src="plutoo-icon-512.png" alt="Plutoo" class="hero-logo" />
      <button id="btnEnter" class="btn primary xl" type="button" data-i18n="enter">Entra</button>
    </div>

    <footer class="home-sponsor">
      <div class="sponsor-title" data-i18n="sponsorTitle">Sponsor ufficiale</div>
      <!-- Clic sponsor: gestito in app.js con reward e apertura link -->
      <a id="sponsorLink" href="https://example.com/fido-gelato" target="_blank" rel="noopener" class="sponsor-card" aria-label="Apri sponsor Fido">
        <img src="sponsor-logo.png" alt="Fido" class="sponsor-logo" />
        <div class="sponsor-copy" data-i18n="sponsorCopy">Fido, il gelato per i nostri amici a quattro zampe</div>
      </a>

      <!-- Bottone etico: emoji üêæ + link a Maps canili (via reward) -->
      <button id="ethicsButton" class="btn ethics" type="button" aria-label="Canili vicino a me">
        <span class="emoji">üêæ</span>
        <span class="ethics-lines">
          <span class="l1" data-i18n="ethicsLine1">Non abbandonare mai i tuoi amici</span>
          <span class="l2" data-i18n="ethicsLine2">(canili vicino a me)</span>
        </span>
      </button>

      <div class="legal-links">
        <a href="termini.html" target="_blank" rel="noopener" data-i18n="terms">terms</a>
        <span>¬∑</span>
        <a href="privacy.html" target="_blank" rel="noopener" data-i18n="privacy">privacy</a>
      </div>
    </footer>
  </section>

  <!-- =============== APP =============== -->
  <section id="appScreen" class="app hidden" aria-hidden="true">
    <header class="topbar">
      <div class="left">
        <button id="btnBack" class="btn tiny ghost" type="button" aria-label="Indietro">‚Üê</button>
        <img src="plutoo-icon-192.png" alt="Plutoo" class="logo" width="28" height="28" />
        <strong class="brand-mini">Plutoo</strong>
      </div>

      <!-- Tabs -->
      <nav class="tabs" role="tablist" aria-label="Sezioni">
        <button id="tabNearby" class="tab active" role="tab" aria-selected="true" data-i18n="nearby">Vicino a te</button>
        <button id="tabLove"   class="tab" role="tab" aria-selected="false" data-i18n="love">Amore</button>
        <button id="tabSocial" class="tab" role="tab" aria-selected="false" data-i18n="social">Social</button>

        <!-- Luoghi Pet: menu a tendina -->
        <div class="tab dropdown">
          <button id="tabLuoghi" class="tab" aria-haspopup="true" aria-expanded="false">Luoghi Pet ‚ñæ</button>
          <div id="luoghiMenu" class="dropdown-menu" role="menu" aria-label="Luoghi Pet">
            <button class="menu-item" data-cat="vets"      role="menuitem" data-i18n="vets">Veterinari</button>
            <button class="menu-item" data-cat="groomers"  role="menuitem" data-i18n="groomers">Toelettature</button>
            <button class="menu-item" data-cat="shops"     role="menuitem" data-i18n="shops">Negozi</button>
            <button class="menu-item" data-cat="parks"     role="menuitem" data-i18n="parks">Parchi</button>
            <button class="menu-item" data-cat="trainers"  role="menuitem" data-i18n="trainers">Addestratori</button>
            <button class="menu-item" data-cat="shelters"  role="menuitem" data-i18n="shelters">Canili &amp; Adozioni</button>
          </div>
        </div>
      </nav>

      <div class="right">
        <button id="btnSearch" class="btn tiny ghost" type="button" aria-label="Ricerca" data-i18n="customSearch">Ricerca</button>
        <button id="tabPlus" class="btn tiny ghost" type="button" aria-label="Plus" data-i18n="plus">Plus</button>
      </div>
    </header>

    <main class="content">
      <!-- Vicino a te -->
      <section id="viewNearby" class="view active" role="tabpanel" aria-labelledby="tabNearby">
        <div class="grid-2" id="nearbyGrid">
          <!-- riempito da app.js -->
        </div>
      </section>

      <!-- Amore -->
      <section id="viewLove" class="view" role="tabpanel" aria-labelledby="tabLove">
        <div id="loveDeck" class="love-deck">
          <!-- cards swipe -->
        </div>
      </section>

      <!-- Social -->
      <section id="viewSocial" class="view" role="tabpanel" aria-labelledby="tabSocial">
        <div id="socialDeck" class="social-deck">
          <!-- cards swipe/meet -->
        </div>
      </section>
    </main>

    <!-- Panel Ricerca -->
    <section id="panelSearch" class="panel" aria-hidden="true" role="dialog" aria-label="Ricerca personalizzata">
      <div class="panel-inner">
        <div class="panel-head">
          <strong data-i18n="customSearch">Ricerca personalizzata</strong>
          <button class="btn tiny ghost icon close" id="btnCloseSearch" aria-label="Chiudi">‚úï</button>
        </div>

        <div class="filters">
          <div class="f">
            <label for="breed" data-i18n="breed">Razza</label>
            <input id="breed" type="text" placeholder="Retriever‚Ä¶" autocomplete="off" />
            <div id="suggestions" class="suggestions" role="listbox" aria-label="Suggerimenti razze"></div>
          </div>

          <div class="f two">
            <div>
              <label for="sex" data-i18n="sex">Sesso</label>
              <select id="sex">
                <option value="" data-i18n="any">Qualsiasi</option>
                <option value="male" data-i18n="male">Maschio</option>
                <option value="female" data-i18n="female">Femmina</option>
              </select>
            </div>
            <div>
              <label for="verified" data-i18n="verifiedOnly">Solo verificati</label>
              <input id="verified" type="checkbox" />
            </div>
          </div>

          <div class="panel-actions">
            <button id="btnApplyFilters" class="btn primary" type="button" data-i18n="apply">Applica</button>
            <button id="btnResetFilters" class="btn ghost" type="button" data-i18n="reset">Reset</button>
          </div>
          <p class="hint" data-i18n="goldHint">Il badge Gold si ottiene caricando vaccini, microchip e pedigree.</p>
        </div>
      </div>
    </section>

    <!-- Scheda Profilo Cane -->
    <section id="profilePanel" class="sheet" aria-hidden="true" role="dialog" aria-label="Profilo cane">
      <div class="sheet-head">
        <button id="btnCloseProfile" class="btn tiny ghost icon close" aria-label="Chiudi">‚úï</button>
      </div>
      <div id="ppBody" class="sheet-body"><!-- riempito da app.js --></div>
    </section>

    <!-- Footer sponsor fisso (tutte le pagine in app) -->
    <footer class="sponsor">
      <div class="sponsor-wrap">
        <div class="sponsor-title" data-i18n="sponsorTitle">Sponsor ufficiale</div>
        <img src="sponsor-logo.png" alt="Fido" class="sponsor-logo" />
        <p class="sponsor-copy" data-i18n="sponsorCopy">Fido, il gelato per i nostri amici a quattro zampe</p>
      </div>

      <button id="ethicsButtonApp" class="btn ethics" type="button" aria-label="Canili vicino a me">
        <span class="emoji">üêæ</span>
        <span class="ethics-lines">
          <span class="l1" data-i18n="ethicsLine1">Non abbandonare mai i tuoi amici</span>
          <span class="l2" data-i18n="ethicsLine2">(canili vicino a me)</span>
        </span>
      </button>

      <div class="ad-banner" id="adBannerHome" aria-hidden="true"></div>
    </footer>
  </section>

  <!-- SW + JS -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js').catch(()=>{});
      });
    }
  </script>
  <script src="app.js" defer></script>
</body>
</html>
