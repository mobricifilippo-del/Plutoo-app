/* =========================================================
   Plutoo — Gold Edition (style.css)
   Tema: nero + accenti oro. UI mobile-first + desktop responsive.
   Compatibile con l'index inviato (classi e id 1:1).
   ========================================================= */

/* ---------- Reset di base ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
html { -webkit-text-size-adjust: 100%; }
body {
  margin: 0;
  background: #000;            /* sfondo nero richiesto */
  color: #fff;
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, Inter, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
img { display: block; max-width: 100%; height: auto; }
a { color: inherit; text-decoration: none; }
button { font: inherit; color: inherit; background: none; border: 0; cursor: pointer; }

/* ---------- Utility ---------- */
.hidden { display: none !important; }
.visually-hidden {
  position: absolute !important; width: 1px; height: 1px;
  padding: 0; margin: -1px; overflow: hidden; clip: rect(0 0 0 0); white-space: nowrap; border: 0;
}
:focus-visible { outline: 2px solid rgba(255,215,0,.85); outline-offset: 2px; border-radius: 10px; }

/* ---------- Variabili colore/ombra ---------- */
:root{
  --bg: #000000;
  --surface: rgba(255,255,255,.06);
  --surface-2: rgba(255,255,255,.04);
  --ink: #ffffff;
  --muted: rgba(255,255,255,.75);
  --muted-2: rgba(255,255,255,.60);
  --gold: #FFD54A;                 /* oro morbido */
  --gold-15: rgba(255,213,74,.15);
  --gold-30: rgba(255,213,74,.30);
  --gold-50: rgba(255,213,74,.50);
  --shadow-1: 0 10px 28px rgba(0,0,0,.35);
  --shadow-2: 0 16px 46px rgba(0,0,0,.55);
}

/* =========================================================
   HOME (homeScreen)
   ========================================================= */
.home { min-height: 100svh; display: flex; flex-direction: column; }
.home-top {
  position: sticky; top: 0; z-index: 30;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.home-bar{
  display: grid;
  grid-template-columns: 1fr auto auto;
  align-items: center;
  gap: 12px;
  padding: 10px 12px;
}
.home-left .logo-row{ display:flex; align-items:center; gap:8px; }
.logo-small{ width: 30px; height: 30px; border-radius: 8px; }
.brand{ font-size: 18px; letter-spacing: .3px; font-weight: 800; }

.home-center{ min-height: 1px; }
.home-right{ display:flex; align-items:center; gap:12px; }
.lang-flags{ display:flex; gap:6px; }
.auth-links{ display:flex; align-items:center; gap:8px; color: var(--muted); }
.auth-links a:hover{ color:#fff; }

/* Hero logo + bottone ENTRA */
.home-hero{
  display: flex; flex-direction: column; align-items: center; justify-content: center;
  padding: 28px 14px 10px;
  gap: 18px;
}
.hero-logo{
  width: clamp(140px, 48vw, 220px);
  aspect-ratio: 1 / 1;
  border-radius: 24px;
  box-shadow: 0 0 0 1px rgba(255,255,255,.06) inset, var(--shadow-2);
}

/* Sponsor blocco in fondo */
.home-sponsor{
  margin-top: auto;                     /* sempre in fondo */
  padding: 18px 14px 18px;
  display: grid; gap: 14px;
  background: linear-gradient(180deg, rgba(255,255,255,0) 0%, rgba(255,215,74,.05) 100%);
}
.sponsor-title{ text-align:center; color: var(--muted); font-weight: 700; letter-spacing:.3px; }
.sponsor-card{
  display:flex; flex-direction:column; align-items:center; gap:10px;
  padding: 14px 16px;
  border-radius: 16px;
  border: 1px solid rgba(255,215,74,.25);
  background: rgba(255,255,255,.02);
  box-shadow: 0 10px 30px rgba(255,215,74,.08);
  max-width: 560px;
  margin: 0 auto;
}
.sponsor-logo{
  width: 72px; height: 72px; border-radius: 14px; object-fit: contain;
  background: #0a0a0a; padding: 8px;
  box-shadow: inset 0 0 2px rgba(255,255,255,.06);
}
.sponsor-copy{
  text-align: center; line-height: 1.2;
  font-size: clamp(14px, 2.8vw, 16px);
}

/* Bottone etico */
.btn.ethics{
  display: inline-flex; align-items: center; gap: 10px;
  padding: 10px 14px;
  margin: 2px auto 0;
  border-radius: 9999px;
  border: 1px solid var(--gold-30);
  background: #0c0c0c;
  box-shadow: 0 6px 22px rgba(255,215,74,.12);
}
.btn.ethics .emoji{ font-size: 18px; }
.ethics-lines{ display:flex; flex-direction: column; align-items: flex-start; }
.ethics-lines .l1{ font-weight: 700; }
.ethics-lines .l2{ color: var(--muted); font-size: 13px; }

/* Legal links */
.legal-links{ display:flex; justify-content:center; align-items:center; gap:8px; color:var(--muted); }
.legal-purple a{ color: #e8e3cf; }
.legal-links a:hover{ text-decoration: underline; }

/* =========================================================
   BUTTONS (riusabili)
   ========================================================= */
.btn{
  --padY: 10px; --padX: 16px;
  padding: var(--padY) var(--padX);
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.15);
  background: var(--surface);
  color: #fff;
  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease, background .15s ease;
}
.btn:hover{ transform: translateY(-1px); box-shadow: var(--shadow-1); }
.btn:active{ transform: translateY(0); box-shadow: none; }
.btn.primary{
  border-color: var(--gold-50);
  background:
    radial-gradient(120% 120% at 50% -10%, rgba(255,215,74,.20), rgba(255,215,74,.08) 45%, rgba(255,215,74,.03) 65%, transparent),
    #0c0c0c;
  box-shadow: 0 10px 30px rgba(255,215,74,.22);
  font-weight: 800; letter-spacing: .4px;
}
.btn.ghost{ background: transparent; border-color: rgba(255,255,255,.18); }
.btn.plus-btn{
  display: inline-flex; gap:8px; align-items: center;
  border-color: var(--gold-50);
  background: rgba(255,215,74,.08);
}
.plus-icon{ filter: drop-shadow(0 0 10px rgba(255,215,74,.35)); }
.btn.small{ --padY:8px; --padX:12px; font-size: 14px; }
.btn.tiny{ --padY:6px; --padX:10px; font-size: 13px; }
.btn.xl{ --padY: 14px; --padX: 26px; font-size: 18px; border-radius: 9999px; }

/* =========================================================
   APP (appScreen)
   ========================================================= */
.app{
  min-height: 100svh;
  display: grid;
  grid-template-rows: auto 1fr auto;
  background: var(--bg);
}
.topbar{
  position: sticky; top: 0; z-index: 40;
  display: grid; grid-template-columns: 1fr auto auto; align-items: center; gap: 10px;
  padding: 8px 10px;
  background: rgba(0,0,0,.55); backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.topbar .left{ display:flex; align-items:center; gap:8px; }
.topbar .logo{ width:28px; height:28px; border-radius: 8px; }
.brand-mini{ font-weight: 800; letter-spacing: .3px; }
.tabs{ display:flex; align-items:center; gap:8px; overflow:auto; scrollbar-width:none; -ms-overflow-style:none; }
.tabs::-webkit-scrollbar{ display:none; }
.tab{
  padding: 8px 12px; border-radius: 9999px; white-space: nowrap;
  background: var(--surface); border: 1px solid rgba(255,255,255,.1); color:#fff;
}
.tab.active{ border-color: var(--gold-50); box-shadow: 0 6px 22px rgba(255,215,74,.18); }

.dropdown{ position: relative; }
.dropdown-menu{
  position: absolute; top: 115%; left: 0;
  min-width: 220px; background: #0c0c0c; border: 1px solid rgba(255,255,255,.1);
  border-radius: 12px; padding: 6px; box-shadow: var(--shadow-2);
  display: none;
}
.dropdown-menu.show{ display: block; }
.menu-item{
  width: 100%; text-align: left;
  padding: 10px 12px; border-radius: 10px;
  color: #fff;
}
.menu-item:hover{ background: rgba(255,255,255,.06); }

.right{ display:flex; align-items:center; gap:8px; }

/* Contenuto app */
.content{ padding: 12px 12px 18px; }
.view{ display: none; }
.view.active{ display: block; }

/* Grid 2×N (Vicino a te) */
.grid-2{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
}

/* Card generica */
.card{
  background: var(--surface-2);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 16px;
  overflow: hidden;
  box-shadow: var(--shadow-1);
}
.card.swipe{ position: relative; }
.card-img{
  width: 100%; height: clamp(180px, 45vw, 280px);
  object-fit: cover;
  display: block;
}
.card-info{ padding: 10px 12px; }
.card-info .meta{ color: var(--muted); font-size: 14px; }
.card-info .bio { color: var(--muted-2); font-size: 14px; margin-top: 6px; }

.card-actions{
  position: absolute; inset: auto 10px 10px 10px;
  display:flex; justify-content: space-between; gap: 12px;
}
.btn.no{ background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.22); }
.btn.yes{
  border-color: var(--gold-50);
  background: radial-gradient(120% 120% at 50% -10%, rgba(255,215,74,.22), rgba(255,215,74,.08) 45%, rgba(255,215,74,.03) 65%, transparent), #0c0c0c;
}

/* Cornice oro (griglia e profili) */
.frame-gold,
.grid-2 .card{
  border: 1px solid rgba(255,215,74,.28);
  box-shadow:
    0 0 0 1px rgba(255,255,255,.02) inset,
    0 12px 36px rgba(255,215,74,.10);
}

/* Sponsor footer nell'app */
footer.sponsor{
  border-top: 1px solid rgba(255,255,255,.08);
  padding: 10px 10px 16px;
  background: rgba(0,0,0,.55);
}
.sponsor-wrap{
  display:flex; flex-direction:column; align-items:center; gap:8px;
}
footer .sponsor-title{ color: var(--muted); }
footer .sponsor-logo{ width: 56px; height:56px; border-radius: 12px; object-fit: contain; background:#0a0a0a; padding:7px; }
footer .sponsor-copy{ font-size: 14px; color: var(--muted); text-align:center; }
.ad-banner{ width:100%; height: 54px; margin-top: 6px; border: 1px dashed rgba(255,255,255,.18); border-radius: 10px; }

/* =========================================================
   SHEETS / PANELS / MODALS
   ========================================================= */
.sheet{
  position: fixed; inset: 0;
  display: grid; grid-template-rows: auto 1fr auto;
  background: rgba(0,0,0,.65);
  backdrop-filter: blur(4px);
}
.sheet.hidden{ display: none; }
.sheet .sheet-header{
  display:flex; justify-content: space-between; align-items: center;
  padding: 10px 12px;
  background: #0d0d0d; border-bottom: 1px solid rgba(255,255,255,.08);
}
.sheet .sheet-body{ padding: 12px; overflow: auto; }

/* Panel laterale (ricerca) */
.panel{
  position: fixed; inset: 0;
  display: grid; place-items: center;
  background: rgba(0,0,0,.65); backdrop-filter: blur(4px);
}
.panel.hidden{ display: none; }
.panel-inner{
  width: min(680px, 94vw);
  background: #0d0d0d;
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px;
  box-shadow: var(--shadow-2);
  overflow: hidden;
}
.panel-head{
  display:flex; align-items:center; justify-content: space-between;
  padding: 12px 14px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}

/* Filtri */
.filters{ display: grid; gap: 14px; padding: 12px; }
.filter-group{
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 12px;
  padding: 10px;
}
.filter-group legend{
  padding: 0 6px; color: #fff; font-weight: 700;
}
.f{ display:grid; gap:6px; }
.f-row{ display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
.f input[type="text"],
.f input[type="number"],
.f select,
#chatInput{
  width: 100%;
  background: #0f0f0f;
  color: #fff;
  border: 1px solid rgba(255,255,255,.14);
  border-radius: 10px;
  padding: 10px 12px;
}
.f input[type="range"]{ width: 100%; }
.hint{ color: var(--muted-2); font-size: 13px; }

/* Suggerimenti razze */
.suggestions{
  display:none;
  margin-top: 6px;
  border: 1px solid rgba(255,255,255,.12);
  background: #0c0c0c;
  border-radius: 10px;
  overflow: hidden;
}
.suggestions.show{ display:block; }
.suggestions button{
  width: 100%; text-align: left;
  padding: 8px 10px; background: transparent; border: 0; color: #fff;
}
.suggestions button:hover{ background: rgba(255,255,255,.06); }

/* Switch Gold */
.switcher{ position: relative; width: 44px; height: 26px; }
.switcher input{ opacity: 0; width: 0; height: 0; }
.switcher .track{
  position: absolute; inset: 0; background: #222; border-radius: 9999px;
}
.switcher .track::after{
  content: ""; position: absolute; top: 3px; left: 3px; width: 20px; height: 20px; border-radius: 50%;
  background: #999; transition: transform .2s ease, background .2s ease;
}
.switcher input:checked + .track{ background: rgba(255,215,74,.3); }
.switcher input:checked + .track::after{ transform: translateX(18px); background: #fff; }
.lock-icon{ margin-left: 6px; opacity: .8; }

/* Modal base (Plus) */
.modal{ position: fixed; inset: 0; display: grid; place-items: center; }
.modal.hidden{ display: none; }
.modal-backdrop{ position: absolute; inset: 0; background: rgba(0,0,0,.65); backdrop-filter: blur(3px); }
.modal-content{
  position: relative; z-index: 1; width: min(640px, 92vw);
  background: #0d0d0d; border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px; box-shadow: var(--shadow-2); overflow: hidden;
}
.modal-close{
  position: absolute; top: 8px; right: 8px; width: 34px; height: 34px;
  border-radius: 10px; background: rgba(255,255,255,.06);
}

/* =========================================================
   CHAT
   ========================================================= */
#chatPane .composer{
  display:flex; gap:8px; align-items:center;
  padding: 10px; border-top: 1px solid rgba(255,255,255,.08);
  background: #0b0b0b;
}
#chatList{
  height: min(52vh, 460px);
  overflow: auto;
  padding: 10px;
}
#chatPane .icon.close{
  width: 34px; height: 34px; border-radius: 10px;
  background: rgba(255,255,255,.06);
}

/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (min-width: 720px){
  .home-bar{ padding: 12px 18px; }
  .home-hero{ padding-top: 36px; gap: 22px; }
  .hero-logo{ width: clamp(180px, 30vw, 260px); }
  .grid-2{ gap: 14px; }
  .card-img{ height: clamp(220px, 28vw, 340px); }
}

@media (min-width: 1024px){
  .content{ padding: 16px 18px 24px; }
  .grid-2{ grid-template-columns: repeat(3, 1fr); } /* 3 colonne su desktop ampio */
  .home-sponsor{ padding-bottom: 26px; }
}

/* =========================================================
   Effetti/Animazioni sottili (opzionali)
   ========================================================= */
@keyframes heartbeatHome{
  0%{ transform: scale(1); filter: drop-shadow(0 0 0 rgba(255,215,74,.0)); }
  25%{ transform: scale(1.06); filter: drop-shadow(0 0 18px rgba(255,215,74,.35)); }
  40%{ transform: scale(1);   filter: drop-shadow(0 0 0 rgba(255,215,74,.0)); }
  60%{ transform: scale(1.05); filter: drop-shadow(0 0 14px rgba(255,215,74,.28)); }
  100%{ transform: scale(1); }
}
.heartbeat-on-enter .hero-logo{ animation: heartbeatHome 1.4s ease; }
